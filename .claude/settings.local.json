{
  "permissions": {
    "allow": [
      "Bash(tree:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue view:*)",
      "Bash(gh issue edit:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(firebase projects:list:*)",
      "Bash(firebase login:list:*)",
      "Bash(firebase use:*)",
      "Bash(cat:*)",
      "Bash(find:*)",
      "Bash(git pull:*)",
      "Bash(npm install:*)",
      "Bash(npx tsc:*)",
      "Bash(npx nx run:*)",
      "Bash(npx nx sync:*)",
      "Bash(git push:*)",
      "Bash(gh pr create --title \"feat: add Firebase infrastructure setup (#7)\" --body \"$(cat <<''EOF''\n## Summary\nSets up Firebase infrastructure following patterns from mountain-sol-platform.\n\n## Changes\n- Switch from `packages/` to `libs/` directory structure\n- Create `@maple/ts/firebase/firebase-config` library (client SDK singleton)\n- Create `@maple/firebase/database` library (admin SDK for server-side)\n- Add Firebase config files (firebase.json, rules, indexes)\n- Add CI/CD workflows for build checks and Firebase hosting deploys\n- Update documentation (SESSION.md, AGENTS.md)\n\n## Libraries Created\n\n| Library | Purpose | Import |\n|---------|---------|--------|\n| firebase-config | Client SDK singleton | `@maple/ts/firebase/firebase-config` |\n| firebase-database | Admin SDK | `@maple/firebase/database` |\n\n## CI/CD Workflows\n\n| Workflow | Trigger | Action |\n|----------|---------|--------|\n| build-check.yml | PR to any branch | Build Next.js app |\n| firebase-hosting-merge.yml | Push to main | Deploy to Firebase Hosting |\n\n## Testing\n- [x] TypeScript compiles\n- [x] Next.js app builds successfully\n- [x] Nx workspace synced\n\n## Next Steps (after merge)\n1. Add `FIREBASE_SERVICE_ACCOUNT_MAPLE_AND_SPRUCE` secret to GitHub repo for CI/CD deploys\n\nCloses #7\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\")",
      "Bash(git reset:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr merge:*)",
      "Bash(firebase apphosting:backends:list:*)",
      "Bash(xargs cat:*)",
      "Bash(git stash:*)",
      "Bash(curl:*)",
      "Bash(lsof:*)",
      "Bash(npx nx build:*)",
      "Bash(npx nx show:*)",
      "Bash(pkill:*)",
      "Bash(ls:*)",
      "Bash(gh pr view:*)",
      "Bash(gcloud:*)",
      "Bash(brew:*)",
      "Bash(export PATH=\"/private/tmp/google-cloud-sdk/bin:$PATH\")",
      "Bash(/bin/zsh -l -c \"gcloud --version\")",
      "Bash(/usr/bin/head:*)",
      "Bash(/usr/bin/grep:*)",
      "Bash(/bin/mv:*)",
      "Bash(/usr/bin/sed:*)",
      "Bash(~/google-cloud-sdk/bin/gcloud --version)",
      "Bash(~/google-cloud-sdk/bin/gcloud auth list)",
      "Bash(~/google-cloud-sdk/bin/gcloud config set project maple-and-spruce)",
      "Bash(~/google-cloud-sdk/bin/gcloud iam workload-identity-pools create \"github-pool\" --project=\"maple-and-spruce\" --location=\"global\" --display-name=\"GitHub Actions Pool\")",
      "Bash(~/google-cloud-sdk/bin/gcloud iam workload-identity-pools providers create-oidc:*)",
      "Bash(~/google-cloud-sdk/bin/gcloud iam service-accounts create \"github-deployer\" --project=\"maple-and-spruce\" --display-name=\"GitHub Deployer\")",
      "Bash(~/google-cloud-sdk/bin/gcloud projects add-iam-policy-binding:*)",
      "Bash(/usr/bin/tail:*)",
      "Bash(~/google-cloud-sdk/bin/gcloud iam service-accounts add-iam-policy-binding:*)",
      "Bash(gh run list:*)",
      "Bash(gh run view:*)",
      "Bash(gh api:*)",
      "Bash(echo:*)",
      "Bash(gh run rerun:*)",
      "Bash(~/google-cloud-sdk/bin/gcloud projects get-iam-policy maple-and-spruce --flatten=\"bindings[].members\" --filter=\"bindings.members:github-deployer\" --format=\"table\\(bindings.role\\)\")",
      "Bash(~/google-cloud-sdk/bin/gcloud secrets list --project maple-and-spruce)",
      "Bash(~/google-cloud-sdk/bin/gcloud secrets get-iam-policy SQUARE_WEBHOOK_SIGNATURE_KEY --project maple-and-spruce)",
      "Bash(~/google-cloud-sdk/bin/gcloud secrets add-iam-policy-binding:*)",
      "Bash(npx firebase-tools deploy --only functions --project maple-and-spruce)",
      "Bash(firebase functions:list:*)",
      "Bash(firebase deploy:*)",
      "Bash(firebase functions:log:*)",
      "Bash(grep:*)",
      "Bash(git restore:*)",
      "Bash(gh pr checks:*)",
      "Bash(firebase functions:secrets:get:*)",
      "Bash(gsutil ls:*)",
      "Bash(firebase storage:buckets:list:*)",
      "Bash(gsutil mb:*)",
      "Bash(gsutil iam get:*)",
      "Bash(gsutil iam ch:*)",
      "Bash(npm view:*)",
      "Bash(npx nx add:*)",
      "Bash(npx nx g:*)",
      "Bash(npx chromatic:*)",
      "Bash(gh secret set:*)",
      "Bash(gh secret:*)",
      "Bash(npx vitest:*)",
      "Bash(npx nx run-many:*)",
      "Bash(wc:*)",
      "Bash(npx nx generate:*)",
      "Bash(npm test:*)",
      "Bash(git rm:*)",
      "Bash(npx concurrently:*)",
      "Bash(npx test-storybook:*)",
      "Bash(npx playwright:*)",
      "Bash(npx storybook:*)",
      "Bash(xargs kill -9)",
      "Bash(gh issue close:*)",
      "Bash(gh issue create:*)",
      "Bash(gh label create:*)",
      "Bash(gh run cancel:*)",
      "Bash(gh run watch:*)",
      "Bash(gh pr edit:*)",
      "Bash(npx nx reset)",
      "Bash(npm ls:*)",
      "Bash(1)",
      "Bash(python3:*)",
      "Bash(nx reset:*)",
      "Bash(git fetch:*)",
      "Bash(git merge:*)"
    ]
  }
}
